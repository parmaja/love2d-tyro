-- William Tell --
--ref: http://www.kkuzba.com/links/qbsrc/WILLTELL.ZIP
WilliamTell = [[
mfl16t155s2
o2mnb4p8msbbmnb4p8msbbb8g#8
e8g#8b8g#8b8o3e8o2b8g#8e8g#8
b8g#8b8o3e8o2mnb4p8msbbmnb4
p8msbbmnb4p8msbbmnb4p8msbb
b8bbb8b8b8bbb8b8b8bb
b8b8b8bbb8b8mlb2b2b8p8p4p4
p8mso1bbb8bbb8bbo2e8f#8g#8o1bb
b8bbo2e8g#g#f#8d#8o1b8bbb8bb
b8bbo2e8f#8g#8eg#mlb4bmsag#f#
e8g#8e8o3bbb8bbb8bbo4e8f#8
g#8o3bbb8bbo4e8g#g#f#8d#8o3b8bb
b8bbb8bbo4e8f#8g#8mleg#b4
bag#f#mse8g#8e8o3g#g#g#8g#g#g#8g#g#
g#8o4c#8o3g#8o4c#8o3g#8o4c#8o3g#8f#8e8d#8
c#8g#g#g#8g#g#g#8g#g#g#8o4c#8o3g#8o4c#8
o3g#8o4c#8o3b8a#8b8a#8b8g#g#g#8g#g#
g#8g#g#g#8o4c#8o3g#8o4c#8o3g#8o4c#8o3g#8f#8
e8d#8c#8g#g#g#8g#g#g#8g#g#g#8o4c#8
o3g#8o4c#8o3g#8o4c#8o3b8a#8b8o2bbb8f#f#
f#8f#f#f#8g#8a8f#4mna8msg#8mne4
msg#8f#8f#8f#8o3f#f#f#8f#f#f#8g#8
a8mnf#4msa8g#8mne4msg#8f#8o2bb
b8o1bbb8bbb8bbo2mne8f#8g#8o1bb
b8bbo2e8g#g#f#8d#8o1b8bbb8bb
b8bbo2e8f#8g#8eg#mlb4mnbag#f#
e8g#8e8o3bbb8bbb8bbo4e8f#8
g#8o3bbb8bbo4e8g#g#f#8d#8o3b8bb
b8bbb8bbo4e8f#8g#8mleg#mlb4
mnbag#f#mne8g#8e8o3mle56f56g56a56b56o4c56d56mne8eee8e8mlg#4g#8
mnf#8e8d#8e8c#8mso3bo4c#o3bo4c#o3b
o4c#d#eo3abababo4c#d#o3g#ag#ag#abo4c#o3f#
g#f#g#f#g#f#g#f#g#f#d#o2bo3mlbo4c#d#e8d#8e8
c#8o3msbo4c#o3bo4c#o3bo4c#d#eo3abababo4c#d#o3g#
ag#ag#abo4c#o3f#g#f#g#f#af#emne8p8mlc#4
mnc#o2cmso3c#o2co3d#c#o2baag#ec#c#c#c#c#e
d#o1cg#g#g#g#g#g#o2c#eg#o3c#c#c#c#c#o2co3c#o2co3d#
c#o2baag#ec#c#c#c#c#ed#o1cg#g#g#g#g#mng#
o2c#eg#o3msc#ed#c#d#o2cg#g#g#o3g#ec#d#o2cg#g#g#
o3g#ec#d#o2bg#g#a#gd#d#g#gg#gg#ag#f#e
o1ba#bo2eo1bo2f#o1bo2g#ed#eg#eaf#bo3g#f#ed#
f#ec#o2bo3c#o2bo3c#d#ef#g#o2ababo3c#d#ef#o2g#
ag#aco3c#d#eo2f#g#f#g#f#g#f#g#f#g#f#d#o1b
co2c#d#eo1ba#bo2eo1bo2f#o1bo2g#ed#eg#eaf#b
o3g#f#ed#f#ec#o2bo3c#o2bo3c#d#ef#g#o2ababo3c#
d#ef#o2g#ag#abo3c#d#eo2f#o3c#o2co3c#d#c#o2af#mne
o3mlef#g#abo4c#d#mne8mseee8e8mlg#4g#8
msf#8mse8d#8e8c#8o3bo4c#o3bo4c#o3bo4c#d#eo3a
bababo4c#d#o3g#ag#ag#abo4c#o3f#g#f#g#f#
g#f#g#f#g#f#d#o2bo3mlbo4c#d#mne8eee8e8mlg#4g#8
msf#8e8d#8e8c#8o3bo4c#o3bo4c#o3b
o4c#d#eo3abababo4c#d#o3g#ag#ag#abo4c#o3f#
g#f#g#f#ag#f#e8o2b8o3e8g#g#g#8mng#g#g#8
g#g#g#8o4c#8o3g#8o4c#8o3g#8o4c#8o3g#8f#8e8
d#8c#8g#g#g#8g#g#g#8g#g#g#8o4c#8o3g#8
o4c#8o3g#8o4c#8o3b8a#8b8a#8b8g#g#g#8
g#g#g#8g#g#g#8o4c#8o3g#8o4c#8o3g#8o4c#8o3g#8
f#8e8d#8c#8g#g#g#8g#g#g#8g#g#g#8
o4c#8o3g#8o4c#8o3g#8o4c#8o3b8a#8b8a#8b8
o2f#f#f#8f#f#f#8g#8a8f#4a8g#8
e4g#8f#8o0b8o1b8o2f#f#f#8f#f#f#8
g#8a8f#4a8g#8e4g#8f#8
bbb8o1bbb8bbb8bbo2e8f#8g#8
o1bbb8bbo2e8g#g#f#8d#8o1b8bbb8
bbb8bbo2e8f#8g#8eg#mlb4mnb
ag#f#e8o1b8o2e8o3bbb8bbb8bbo4e8
f#8g#8o3bbb8bbo4e8g#g#f#8d#8o3b8
bbb8bbb8bbo4e8f#8g#8o3eg#mlb4
mnbag#f#mlef#g#mnamlg#abo4mnc#mlo3bo4c#d#mnemld#
ef#mng#ao3bo4ao3bo4ao3bo4ao3bo4ao3bo4ao3bo4ao3bo4ao3bmle
f#g#mnamlg#abmno4c#mlo3bo4c#d#mnemld#ef#mng#ao3bo4ao3bo4a
o3bo4ao3bo4ao3bo4ao3bo4ao3bo4ao3bp16mlg#o4g#o3mng#p16mld#o4d#o3mnd#p16
mleo4eo3mnep16mlao4ao3mnap16mlg#o4g#o3mng#p16mld#o4d#o3mnd#p16mleo4eo3mnep16
mlao4ao3mnao4go3go4go3go4go3go4go3go4msg8e8c8e8o4mng#
o3g#o4g#o3g#o4g#o3g#o4g#o3g#o4msg#8e8o3b8o4e8mng#o3g#o4g#o3g#o4g#
o3g#o4g#o3g#o4msg#8f8c#8f8mna#o3a#o4a#o3a#o4a#o3a#o4a#o3a#o4msa#8
g8e8g8b8p16mna#p16ap16g#p16f#p16ep16
d#p16c#p16o3bp16a#p16ap16g#p16f#p16ep16d#p16f#mle
f#g#mnamlg#abmno4c#o3mlbo4c#d#mnemld#ef#mng#ao3bo4ao3bo4a
o3bo4ao3bo4ao3bo4ao3bo4ao3bo4ao3bmlef#g#mnamlg#abmno4c#o3mlb
o4c#d#mnemld#ef#mng#ao3bo4ao3bo4ao3bo4ao3bo4ao3bo4ao3bo4a
o3bo4ao3bp16mlg#o4g#o3mng#p16mld#o4d#o3mnd#p16mleo4eo3mnep16mlao4ao3mnap16
mlg#o4g#o3mng#p16mld#o4d#o3mnd#p16mleo4eo3mnep16mlao4ao3mnao4go3go4go3go4g
o3go4go3go4g8e8c8e8g#o3g#o4g#o3g#o4g#o3g#o4g#o3g#o4g#8
e8o3b8o4e8g#o3g#o4g#o3g#o4g#o3g#o4g#o3g#o4msg#8mnf8c#8
f8a#o3a#o4a#o3a#o4a#o3a#o4a#o3a#o4a#8g8e8g8b8
p16a#p16ap16g#p16f#p16ep16d#p16c#p16o3bp16a#p16
ap16g#p16f#p16ep16d#p16fmled#ed#mne8bbb8
bbb8bbo4e8f#8g#8o3bbb8bbb8
bbo4g#8a8b8p8e8f#8g#8p8o3g#8
a8b8p8p2o2bco3c#dd#
eff#gg#aa#bco4c#d#ed#f#d#ed#f#d#e
d#f#d#ed#f#d#ed#f#d#ed#f#d#ed#f#d#e
d#f#d#e8eo3eo4eo3eo4eo3eo4e8o3bo2bo3bo2bo3bo2bo3b8
g#o2g#o3g#o2g#o3g#o2g#o3g8eo2eo3eo2eo3eo2eo3e8eee8
e8e8o2bbb8b8b8g#g#g#8g#8g#8
eee8e8e8o1b8o2e8o1b8o2g#8e8b8
g#8o3e8o2b8o3e8o2b8o3g#8e8b8g#8o4e4
p8eee8e8e8e8e4p8p16
ee4p8p16o2ee2
]]

axelf =[[
t126v100f#8r8a8.f#8f#16b8f#8e8f#8r8>c#8.<f#8f#16>d8c#8<a8f#8>c#8f#8<f#16e8e16c#8g#8f#.r8f#8r8a8.f#8f#16b8f#8e8f#8r8>c#8.<f#8f#16>d8c#8<a8f#8>c#8f#8<f#16e8e16c#8g#8f#.r8
]]

new = [[
v127t130l8r1r8<<b>f+4>g4<<b>f+4<b>f+4>g4<<b>f+4f+8g4>g4<f+4.dg4>g4<f+8g8>d+8.d+8.d+8bd+16<b16>d4eee16d16e4ee16d16e4ee16d16e16g8.eabeee16d16e16g8.ee16dg4&g16e16d16e16g4&g16d4e16<b16>e16<b16>e16d16e16g8<b16>e16<b>d16e.<b16>e16<b16>e16d16e16g8<b16>e16<b16>abe16<b16>e16<b16>e16d16e16g8.e16<b16>e16d16e16g8<b16>e16<b16>e16d.<b16>d+8.<b16>d+4&<d+16g2ag4.>g16g16g8g16g8g16<ag4.>g16g16g8g16g8g16<ag4g16g8g16g8g16g8g16ag4.b16bb16bbag8d4>b16bb16b16b16b<ag8edeg8aa+8ag8aa+8aa+8aa+8ag8d+8e2.&ed4g8g8g16g8g16ag4.g16g16g8g16g8g8.g4.g16g16g8g16g8g16ag8eg16g16g16g16g8g16g8g16ag4.bbb16b.ag4b16b16b16b16bb16bb16>d<ba4bbb16b.b>deede16de2.&e16e2a4.g8a4ag2&g8e2a4.g8g8eg8ea4g8eea4.a4.g8ag8>d4<ag8ag2&g8eg8f+8f+8f+2b>dede4edee4.f+8d2&d<e4>e4ed4ed+8d+8d+8e4.d+4ed4.e4e4g4f+8d4e4b2e4<e16g8g16e16c.>d+8d+8ef+8<b>g8f+4.<e16d16e4ee16d16e16g8.ee16d16e16g4&g16abe16<b16>e16<b>d16e16g8<b16>e16<b16>e16d16e16g8<b16>e16<b16>e16d.d+8.<b.>d+32,r1o2e.e.e4<e>e4<g2&g8g8>g4>c.c.c4<c4.<b2&bb>b4<b.b.>b.b.<d4e>e>e<f+16g8.g8>d<g16c.c>c<c16<d.>dad<e>e>e<f+16<g8.>g8>d<g16c.>cg8c16<<b.>b>f+8<b<e>e>e<f+16g8.g8>d<g16<c.>c>c<c16<d.>da4<e>e>e<<>f+16<g8.>g8>g8<g16c.>cg8c<<b16b.b16>b.e2&e<e4g2.g4>>c2.<c4<b2d+2e2.>e4<g2.g4>c2.c4<b2>d+2&d+8<b.>b.<b.>b.d+4<e>e16b16>e16<b16e16b16>e<<e4g4>g16>d16g16d16<g8>g8<g4c4>c16g16>c16<g16c>c<<c4<b4>b16>f+8.<<d+4>d+8>d+8<<e4>e16b16>e16<b16e>e<e4<g4>g16>d16g16d16<g8>g8<<g4>c4>c16g16>c16<g16c>c<<c4c<b1ee>>b4<g8g8>g4<c>cb4<<d.d.>d+8e<e>>g4<<g8g8>>g4<c>c4.<d.<d.>d+8<ee>>e4<<g8g8>>g4<cc>e4<d.d.<bc16g16>c16e16g16>c16e16g16>c16<g16e16c16<g16e16c16<g16bbb2.e>g16b16>e<<e4>e>e<eg8b16>d16g8<g4g8>g8<g8>ce16g16>c<c4cg8c<b>d+16f+16b<d+4d+8>d+8<d+8<e>g16b16>e<e4ebe<g8>b16>d16g8<g4g8>d<g8>ce16g16>c<<c4>c>c<c<<b>>d+16f+16b<d+4d+8>d+8<d+8<e>e>e<f+16g8.g8>d<g16c.>c>c<c16<d.dadee>e<f+16g8.g8>d<g16c.>cg8c<b.b.<b32;
]]

--http://www.bachcentral.com/midiindexcomplete.html
--http://pasyuk.chat.ru/index_e.htm
--http://www.netmftoolbox.com/tools/midi_to_mml.php

--music.play(axlf)

function melody.waveform(index, samples, pitch, rate, tie)
    --https://stackoverflow.com/questions/20037947/fade-out-function-of-audio-between-samplerate-changes
    local fade = 1
    if not tie then
        fade = math.exp(-math.log(50) * index / samples / 2) --fadeout
    end
    sample = math.sin((index * pitch) * ((2 * math.pi) / rate))
    local a = math.sin((index * pitch * 2) * ((2 * math.pi) / rate))
    local b = math.sin((index * pitch / 2) * ((2 * math.pi) / rate))
    sample = (2 * sample - a - b) / 4
    return sample * fade
end

--music.play(new)
--music.play("cp1dp1efgab>c", ">c<bagfep1dp1c")
--music.play("msc&c")
--music.play("l8mlo5c&c&cdefgab>c")
music.play("mll4o5c&c&c")
--music.play("s2o2 mn b4 p8 ms b b mn b4 p8 ms b b b8 g#8")